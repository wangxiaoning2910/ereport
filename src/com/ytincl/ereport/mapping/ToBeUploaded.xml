<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ytincl.ereport.dao.UpLoadFileDao">
	<resultMap type="UpLoadFile" id="result_tobeuploaded"></resultMap>
	<resultMap type="ManuallyTemplate" id="result_ManuallyTemplate"></resultMap>
	<resultMap type="originalData" id="result_Original">
		<result property="text" column="report_name" /> 
	</resultMap>
	<resultMap type="pbsmr_busi" id="result_pbsmr_busi">
		<result property="text" column="report_name" /> 
	</resultMap>
	<resultMap type="pbsmr_inst" id="result_pbsmr_inst">
		<result property="text" column="report_name" /> 
	</resultMap>
	<resultMap type="pbsmr_entrustunit" id="result_pbsmr_entrustunit">
		<result property="text" column="report_name" /> 
	</resultMap>
	<select id="selectToBeUpLoaded"  resultMap="result_tobeuploaded">
		select t.name,t.status from tobeuploaded t where t.time = #{querydate}
	</select>
	<insert id="test" parameterType="com.ytincl.ereport.pojo.ResolveExcel" >
		insert into user (no,name,age,score) value (#{no},#{name},#{age},#{score})
	</insert> 
	<update id="updateStatus" parameterType="com.ytincl.ereport.pojo.UpLoadFile">
		UPDATE tobeuploaded t set t.status = '1'  where t.name = #{name} and t.time  = #{queryDate}
	</update>
	<insert id="insertSavingsDifferenceType" parameterType="com.ytincl.ereport.pojo.SavingsDifferenceType">
		insert into 
		yt_report_deposit_type 
		(date,savetype_no,savetype_name,saveway_no,saveway_name,
		savetime_no,savetime_name,balance_number,balance_money,save_compare,
		order_add,balance_number1,balance_money1,save_compare1,order_add1) 
		value 
		(#{date},#{savetype_no},#{savetype_name},#{saveway_no},#{saveway_name},
		#{savetime_no},#{savetime_name},#{balance_number},#{balance_money},#{save_compare},
		#{order_add},#{balance_number1},#{balance_money1},#{save_compare1},
		#{order_add1})
	</insert>
	<insert id="insertSavingsNetAmount" parameterType="com.ytincl.ereport.pojo.SavingsNetAmount">
		insert into 
		yt_report_deposit_city
		(date,unit_no,unit_name,time_money,currentbalance_money,time_money1,time_money2,time_money3,time_money4,time_money5,time_money6,time_money7,time_money8,time_money9,time_money10,time_money11,time_money12,
		currentbalance_money1,time_money13,time_money14,time_money15,time_money16,time_money17,time_money18,time_money19,time_money20,time_money21,time_money22,time_money23,currentbalance_money2,currentbalance_money3,
		ranking_no,currentbalance_money4,currentbalance_money5,ranking_no1)
		value
		(#{date},#{unit_no},#{unit_name},#{time_money},#{currentbalance_money},#{time_money1},#{time_money2},#{time_money3},#{time_money4},
		#{time_money5},#{time_money6},#{time_money7},#{time_money8},#{time_money9},#{time_money10},#{time_money11},#{time_money12},#{currentbalance_money1},
		#{time_money13},#{time_money14},#{time_money15},#{time_money16},#{time_money17},#{time_money18},#{time_money19},#{time_money20},#{time_money21},
		#{time_money22},#{time_money23},#{currentbalance_money2},#{currentbalance_money3},#{ranking_no},#{currentbalance_money4},#{currentbalance_money5},
		#{ranking_no1})
	</insert>
	
	<insert id="insertSavingsNetAmount2" parameterType="com.ytincl.ereport.pojo.SavingsNetAmount2">
		insert into 
		yt_report_deposit_county
		(date,unit_no,unit_name,time_money,currentbalance_money,time_money1,time_money2,
		time_money3,time_money4,time_money5,time_money6,time_money7,ranking_no,time_money8,
		time_money9,ranking_no1,time_money10,time_money11,currentbalance_money1,time_money12,
		time_money13,time_money14,time_money15,time_money16,time_money17,
		time_money18,ranking_no2,time_money19,time_money20,ranking_no3,time_money21)
		value
		(#{date},#{unit_no},#{unit_name},#{time_money},#{currentbalance_money},#{time_money1},#{time_money2},
		#{time_money3},#{time_money4},#{time_money5},#{time_money6},#{time_money7},#{ranking_no},#{time_money8},
		#{time_money9},#{ranking_no1},#{time_money10},#{time_money11},#{currentbalance_money1},#{time_money12},
		#{time_money13},#{time_money14},#{time_money15},#{time_money16},#{time_money17},
		#{time_money18},#{ranking_no2},#{time_money19},#{time_money20},#{ranking_no3},#{time_money21})
	</insert>
	<insert id="insertdata" parameterType="com.ytincl.ereport.pojo.UpLoadFile">
		insert into
		tobeuploaded
		(name,status,time)
		value
		(#{name},#{status},#{queryDate})
	</insert>
	<insert id="insertNormData" parameterType="pbsmr_busi">
		INSERT INTO 
		pbsmr_busi 
		(reportname,statisticsmechanism,statisticsdate,statisticstype,dotproperties,paytype,
		containsubordinateinst,
		busicode,businame,transamount_month,transamount_year,transmoney_month,
		transmoney_year,correctnum_month,correctnum_year,correctmoney_month,
		correctmoney_year,cancelamount_month,cancelamount_year,cancelmoney_month,cancelmoney_year,
		transtotalnum_month,transtotalnum_year,transtotalmoney_month,transtotalmoney_year) 
		VALUE
		(#{reportName},#{statisticsmechanism},#{statisticsdate},#{statisticstype},#{dotproperties},#{paytype},
		#{containsubordinateinst},#{busicode},#{businame},#{transamount_month},#{transamount_year},#{transmoney_month},#{transmoney_year},#{correctnum_month}
		,#{correctnum_year},#{correctmoney_month},#{correctmoney_year},#{cancelamount_month},#{cancelamount_year},#{cancelmoney_month},#{cancelmoney_year}
		,#{transtotalnum_month},#{transtotalnum_year},#{transtotalmoney_month},#{transtotalmoney_year});
	</insert>
	<insert id="insertNormData_inst" parameterType="pbsmr_inst">
		INSERT INTO 
		pbsmr_inst 
		(reportname,statisticsmechanism,statisticsdate,statisticstype,dotproperties,paytype,
		containsubordinateinst,busicode,
		instcode,instname,transamount_month,transamount_year,transmoney_month,
		transmoney_year,correctnum_month,correctnum_year,correctmoney_month,
		correctmoney_year,cancelamount_month,cancelamount_year,cancelmoney_month,cancelmoney_year,
		transtotalnum_month,transtotalnum_year,transtotalmoney_month,transtotalmoney_year) 
		VALUE
		(#{reportName},#{statisticsmechanism},#{statisticsdate},#{statisticstype},#{dotproperties},#{paytype},
		#{containsubordinateinst},#{busicode},#{instcode},#{instname},#{transamount_month},#{transamount_year},#{transmoney_month},#{transmoney_year},#{correctnum_month}
		,#{correctnum_year},#{correctmoney_month},#{correctmoney_year},#{cancelamount_month},#{cancelamount_year},#{cancelmoney_month},#{cancelmoney_year}
		,#{transtotalnum_month},#{transtotalnum_year},#{transtotalmoney_month},#{transtotalmoney_year});
	</insert>
	<insert id="insertNormData_entrustunit" parameterType="pbsmr_entrustunit">
		INSERT INTO 
		pbsmr_entrustunit 
		(reportname,statisticsmechanism,statisticsdate,statisticstype,dotproperties,paytype,
		containsubordinateinst,
		merchid,merchname,businame,transamount_month,transamount_year,transmoney_month,
		transmoney_year,correctnum_month,correctnum_year,correctmoney_month,
		correctmoney_year,cancelamount_month,cancelamount_year,cancelmoney_month,cancelmoney_year,
		transtotalnum_month,transtotalnum_year,transtotalmoney_month,transtotalmoney_year) 
		VALUE
		(#{reportName},#{statisticsmechanism},#{statisticsdate},#{statisticstype},#{dotproperties},#{paytype},
		#{containsubordinateinst},#{merchid},#{merchname},#{businame},#{transamount_month},#{transamount_year},#{transmoney_month},#{transmoney_year},#{correctnum_month}
		,#{correctnum_year},#{correctmoney_month},#{correctmoney_year},#{cancelamount_month},#{cancelamount_year},#{cancelmoney_month},#{cancelmoney_year}
		,#{transtotalnum_month},#{transtotalnum_year},#{transtotalmoney_month},#{transtotalmoney_year});
	</insert>
	<select id="queryTemplates"  resultMap="result_ManuallyTemplate">
		select t.tempName,t.dataSpace,t.status from mtemplates t
	</select>
	<select id="queryOriginalData" resultMap="result_Original">
		select * from yt_report_availablestatement where report_status = '1';
	</select>
	<select id="querypbs" resultMap="result_pbsmr_busi" parameterType="pbsmr_busi">
		SELECT * FROM 
		pbsmr_busi pb
		WHERE
		pb.reportname = #{reportName} and pb.statisticsdate = #{statisticsdate} and pb.statisticstype = #{statisticstype} and  pb.dotproperties = #{dotproperties}
	</select>
	<select id="querypis" resultMap="result_pbsmr_inst" parameterType="pbsmr_inst">
		SELECT * FROM 
		pbsmr_inst pi
		WHERE
			pi.reportname = #{reportName} 
		AND pi.statisticsdate = #{statisticsdate} 
		AND pi.statisticstype = #{statisticstype} 
		AND pi.dotproperties = #{dotproperties}
		AND pi.busicode = #{busicode}
	</select>
	<select id="querypes" resultMap="result_pbsmr_entrustunit" parameterType="pbsmr_entrustunit">
		SELECT * FROM 
		pbsmr_entrustunit pe
		WHERE
			pe.reportname = #{reportName} 
		AND pe.statisticsdate = #{statisticsdate} 
		AND pe.statisticstype = #{statisticstype} 
		AND pe.dotproperties = #{dotproperties}
	</select>
</mapper>

